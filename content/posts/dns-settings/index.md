---
title: "域名的DNS设置"
date: 2024-10-30T13:56:00+08:00
draft: false
---

当我们购买了一个域名之后，必须要做的一件事就是将域名绑定到服务器的IP地址上。这个过程是通过在域名注册商那里修改DNS设置实现的。当我们在域名注册商那里购买一个域名之后，该域名的DNS服务器就会设置为域名注册商指定的DNS服务器，并且我们可以通过域名注册商来修改该域名的DNS设置。

假设我们购买的域名是foo.com。一个典型的DNS设置如下所示：

| Type  | Name | Data      |
| ----- | ---- | --------- |
| A     | @    | 11.4.5.14 |
| CNAME | www  | foo.com   |
| NS    | @    | ns1.com   |
| NS    | @    | ns2.com   |

首先是最核心的A记录。Name的@可以理解为是空值的意思。第一行的A记录的意思是：foo.com的IP地址是11.4.5.14。

然后是CNAME记录。第二行的CNAME记录的含义是：www.foo.com的IP地址等于foo.com的IP地址。

最后两行NS记录用来指定该域名的DNS服务器。NS记录通常由域名注册商设置，用户无法修改。最后两行NS记录的意思就是：foo.com及其子域名的DNS服务器是ns1.com和ns2.com。

这里就有一个小问题了：既然我们已经可以通过A记录获得IP地址，那么为什么还需要设置NS记录呢？其实这个问题我也没太搞懂，不过也不需要搞懂。我看到有一个[StackOverflow问题](https://serverfault.com/questions/224920/dns-a-vs-ns-record)对此有比较详细的讨论，有兴趣的可以研究一下。
